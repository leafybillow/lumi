#include "lumiDetectorMessenger.hh"
#include "lumiDetectorConstruction.hh"

#include "G4UIcmdWithAString.hh"

lumiDetectorMessenger::lumiDetectorMessenger(lumiDetectorConstruction* detectorConstruction)
  :G4UImessenger(){
  uiDirectory = new G4UIdirectory("/lumi/det/");
  uiDirectory->SetGuidance("detector control.");

  setGDMLCmd = new G4UIcmdWithAString("/lumi/det/setGDML",this);
  setGDMLCmd->SetGuidance("Set Main GDML File.");
  setGDMLCmd->SetParameterName("GDMLFileName",true);
  setGDMLCmd->SetDefaultValue("./geometry/main.gdml");
  // G4String candidateList=("main");
  //setGDMLCmd->SetCandidates(candidateList);
  setGDMLCmd->AvailableForStates(G4State_PreInit);
}


lumiDetectorMessenger::~lumiDetectorMessenger(){
  delete setGDMLCmd;
}

void lumiDetectorMessenger::SetNewValue(G4UIcommand *uiCommand, G4String newValue){

  if(uiCommand==setGDMLCmd){
    detectorConstruction->SetGDML(newValue);
  }

}
